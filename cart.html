<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Your Cart - Nure Store</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <style>
    :root {
      /* Premium Color Palette */
      --primary: #6c5ce7;
      --primary-light: #a29bfe;
      --primary-dark: #5649c0;
      --secondary: #fd79a8;
      --accent: #00cec9;
      --success: #00b894;
      --danger: #d63031;
      --warning: #fdcb6e;
      --info: #0984e3;
      --dark: #2d3436;
      --darker: #1e272e;
      --light: #f5f6fa;
      --lighter: #ffffff;
      --light-gray: #dfe6e9;
      --gray: #636e72;
      --gradient-primary: linear-gradient(135deg, var(--primary) 0%, var(--accent) 100%);
      --gradient-dark: linear-gradient(135deg, var(--darker) 0%, var(--dark) 100%);
      
      /* Shadows */
      --shadow-sm: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
      --shadow-md: 0 4px 6px rgba(0,0,0,0.1), 0 1px 3px rgba(0,0,0,0.08);
      --shadow-lg: 0 10px 25px rgba(0,0,0,0.1), 0 5px 10px rgba(0,0,0,0.05);
      --shadow-xl: 0 20px 40px rgba(0,0,0,0.15), 0 10px 10px rgba(0,0,0,0.05);
      --shadow-primary: 0 10px 20px rgba(108, 92, 231, 0.3);
      
      /* Transitions */
      --transition-fast: all 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      --transition-normal: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      --transition-slow: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Poppins', sans-serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      color: var(--dark);
      min-height: 100vh;
      padding-top: 90px;
      line-height: 1.6;
    }

    /* Premium Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(26, 35, 126, 0.98);
      color: var(--lighter);
      z-index: 1000;
      transition: var(--transition-slow);
      padding: 1rem 0;
      box-shadow: 0 4px 30px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    .header.scrolled {
      padding: 0.7rem 0;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      background: rgba(26, 35, 126, 0.95);
    }

    .nav-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 30px;
    }

    .logo h1 {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      background: linear-gradient(to right, #ffffff, #a29bfe);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 2px 4px rgba(0,0,0,0.1);
      letter-spacing: 1px;
    }

    .stor {
      position: relative;
      display: inline-block;
    }

    .stor::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--secondary);
      transform: scaleX(0);
      transform-origin: right;
      transition: transform 0.4s ease;
    }

    .logo:hover .stor::after {
      transform: scaleX(1);
      transform-origin: left;
    }

    .nav-links {
      display: flex;
      gap: 35px;
      transition: var(--transition-slow);
    }

    .nav-link {
      color: var(--lighter);
      text-decoration: none;
      font-weight: 500;
      position: relative;
      padding: 5px 0;
      transition: var(--transition-normal);
      font-size: 1.05rem;
    }

    .nav-link::before {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--secondary);
      transition: var(--transition-normal);
    }

    .nav-link:hover::before {
      width: 100%;
    }

    .nav-icons {
      display: flex;
      align-items: center;
      gap: 25px;
    }

    .cart-icon {
      position: relative;
      cursor: pointer;
      transition: var(--transition-normal);
      font-size: 1.2rem;
    }

    .cart-icon:hover {
      transform: translateY(-3px) scale(1.1);
      color: var(--secondary);
    }

    .cart-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background: var(--secondary);
      color: white;
      border-radius: 50%;
      width: 22px;
      height: 22px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: bold;
      transition: var(--transition-normal);
      box-shadow: 0 2px 5px rgba(253, 121, 168, 0.3);
    }

    .menu-toggle {
      display: none;
      cursor: pointer;
      font-size: 1.6rem;
      transition: var(--transition-normal);
      z-index: 1001;
    }

    .menu-toggle:hover {
      transform: rotate(90deg);
      color: var(--secondary);
    }

    /* Premium Breadcrumbs */
    .breadcrumbs {
      padding: 20px 0;
      font-size: 0.95rem;
      margin-top: 20px;
      display: flex;
      align-items: center;
    }

    .breadcrumbs a {
      color: var(--primary);
      text-decoration: none;
      transition: var(--transition-normal);
      position: relative;
      padding-right: 20px;
      font-weight: 500;
    }

    .breadcrumbs a::after {
      content: '›';
      position: absolute;
      right: 5px;
      color: var(--gray);
      font-size: 1.2rem;
      top: 50%;
      transform: translateY(-50%);
    }

    .breadcrumbs a:hover {
      color: var(--primary-dark);
      transform: translateX(3px);
    }

    .breadcrumbs span {
      color: var(--gray);
      margin-left: 8px;
    }

    /* Luxury Cart Layout */
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 30px;
    }

    .cart-layout {
      display: grid;
      grid-template-columns: 1.5fr 1fr;
      gap: 40px;
      margin-top: 20px;
    }

    /* Premium Cart Items Section */
    .cart-items-section {
      background-color: var(--lighter);
      border-radius: 18px;
      padding: 35px;
      box-shadow: var(--shadow-lg);
      transform: translateY(20px);
      opacity: 0;
      animation: fadeInUp 0.8s forwards 0.2s;
      transition: var(--transition-slow);
      border: 1px solid rgba(0,0,0,0.03);
    }

    .cart-items-section:hover {
      box-shadow: var(--shadow-xl);
      transform: translateY(-5px);
    }

    @keyframes fadeInUp {
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    .section-title {
      font-size: 1.8rem;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 1px solid rgba(0, 0, 0, 0.08);
      color: var(--primary);
      position: relative;
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      letter-spacing: -0.5px;
    }

    .section-title::after {
      content: '';
      position: absolute;
      bottom: -1px;
      left: 0;
      width: 80px;
      height: 4px;
      background: var(--gradient-primary);
      border-radius: 4px;
    }

    /* Luxury Cart Items */
    .cart-item {
      display: grid;
      grid-template-columns: 120px 1fr auto;
      gap: 25px;
      padding: 25px 0;
      border-bottom: 1px solid rgba(0, 0, 0, 0.05);
      align-items: center;
      transition: var(--transition-normal);
      position: relative;
      opacity: 0;
      animation: fadeIn 0.5s forwards;
      animation-delay: calc(var(--order) * 0.1s);
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateX(-20px); }
      to { opacity: 1; transform: translateX(0); }
    }

    .cart-item:hover {
      background-color: rgba(108, 92, 231, 0.03);
      transform: translateX(5px);
    }

    .cart-item:last-child {
      border-bottom: none;
    }

    .cart-item-img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 12px;
      box-shadow: var(--shadow-md);
      transition: var(--transition-slow);
      border: 1px solid rgba(0,0,0,0.05);
    }

    .cart-item-img:hover {
      transform: scale(1.05) rotate(2deg);
      box-shadow: var(--shadow-lg);
      border-color: rgba(108, 92, 231, 0.2);
    }

    .cart-item-details {
      display: flex;
      flex-direction: column;
    }

    .cart-item-name {
      font-weight: 600;
      margin-bottom: 10px;
      font-size: 1.2rem;
      color: var(--dark);
      transition: var(--transition-normal);
    }

    .cart-item-name:hover {
      color: var(--primary);
    }

    .cart-item-price {
      color: var(--primary);
      font-weight: 600;
      margin-bottom: 15px;
      font-size: 1.1rem;
    }

    .cart-item-quantity {
      display: flex;
      align-items: center;
    }

    .quantity-btn {
      width: 34px;
      height: 34px;
      background-color: var(--light);
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--primary);
      transition: var(--transition-fast);
      box-shadow: var(--shadow-sm);
    }

    .quantity-btn:hover {
      background: var(--gradient-primary);
      color: white;
      transform: translateY(-3px);
      box-shadow: var(--shadow-primary);
    }

    .quantity-btn:active {
      transform: translateY(0);
    }

    .quantity-value {
      margin: 0 18px;
      min-width: 24px;
      text-align: center;
      font-weight: 600;
      font-size: 1.1rem;
      transition: var(--transition-fast);
    }

    .remove-item {
      background: none;
      border: none;
      color: var(--danger);
      cursor: pointer;
      font-size: 1.3rem;
      transition: var(--transition-normal);
      opacity: 0.7;
      padding: 8px;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
    }

    .remove-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(214, 48, 49, 0.1);
      border-radius: 50%;
      transform: scale(0);
      transition: var(--transition-normal);
    }

    .remove-item:hover {
      opacity: 1;
      transform: rotate(15deg);
    }

    .remove-item:hover::before {
      transform: scale(1);
    }

    .cart-item-total {
      font-weight: 700;
      text-align: right;
      color: var(--primary-dark);
      font-size: 1.2rem;
      min-width: 100px;
    }

    /* Premium Order Summary */
    .order-summary {
      margin-top: 35px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 15px;
      padding: 30px;
      box-shadow: var(--shadow-md);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      transition: var(--transition-slow);
    }

    .order-summary:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-lg);
      border-color: rgba(108, 92, 231, 0.2);
    }

    .summary-row {
      display: flex;
      justify-content: space-between;
      margin-bottom: 15px;
      padding: 10px 0;
      border-bottom: 1px dashed rgba(0, 0, 0, 0.1);
      transition: var(--transition-normal);
    }

    .summary-row:hover {
      border-bottom-color: var(--primary-light);
    }

    .summary-row.total {
      font-weight: 700;
      font-size: 1.3rem;
      margin-top: 20px;
      padding-top: 20px;
      border-top: 2px solid rgba(0, 0, 0, 0.1);
      border-bottom: none;
      color: var(--primary-dark);
    }

    /* Luxury Checkout Button */
    .checkout-btn {
      width: 100%;
      padding: 18px;
      background: var(--gradient-primary);
      color: white;
      border: none;
      border-radius: 12px;
      font-size: 1.2rem;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition-slow);
      box-shadow: 0 8px 20px rgba(108, 92, 231, 0.4);
      margin-top: 25px;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .checkout-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: 0.6s;
      z-index: -1;
    }

    .checkout-btn:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 30px rgba(108, 92, 231, 0.6);
    }

    .checkout-btn:hover::before {
      left: 100%;
    }

    .checkout-btn::after {
      content: '\f061';
      font-family: 'Font Awesome 6 Free';
      font-weight: 900;
      margin-left: 12px;
      transition: var(--transition-normal);
    }

    .checkout-btn:hover::after {
      transform: translateX(8px);
    }

    /* Premium Payment Methods Section */
    .payment-methods-section {
      background-color: var(--lighter);
      border-radius: 18px;
      padding: 35px;
      box-shadow: var(--shadow-lg);
      transform: translateY(20px);
      opacity: 0;
      animation: fadeInUp 0.8s forwards 0.4s;
      transition: var(--transition-slow);
      border: 1px solid rgba(0,0,0,0.03);
    }

    .payment-methods-section:hover {
      box-shadow: var(--shadow-xl);
      transform: translateY(-5px);
    }

    .payment-method {
      margin-bottom: 20px;
    }

    .payment-method input[type="radio"] {
      display: none;
    }

    .payment-method label {
      display: flex;
      align-items: center;
      padding: 20px;
      border: 1px solid var(--light-gray);
      border-radius: 12px;
      cursor: pointer;
      transition: var(--transition-normal);
      background: var(--lighter);
    }

    .payment-method label:hover {
      transform: translateY(-5px);
      box-shadow: var(--shadow-md);
      border-color: var(--primary-light);
    }

    .payment-method input[type="radio"]:checked + label {
      border-color: var(--primary-light);
      background: rgba(108, 92, 231, 0.05);
      box-shadow: 0 8px 20px rgba(108, 92, 231, 0.1);
      transform: translateY(-5px);
    }

    .payment-icon {
      width: 45px;
      height: 45px;
      background-color: var(--lighter);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-right: 20px;
      color: var(--primary);
      font-size: 1.4rem;
      box-shadow: var(--shadow-sm);
      transition: var(--transition-slow);
      border: 1px solid rgba(0,0,0,0.05);
    }

    .payment-method input[type="radio"]:checked + label .payment-icon {
      background: var(--gradient-primary);
      color: white;
      transform: rotate(360deg);
      box-shadow: 0 5px 15px rgba(108, 92, 231, 0.3);
    }

    .payment-text {
      flex: 1;
    }

    .payment-name {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 1.1rem;
      color: var(--dark);
    }

    .payment-desc {
      font-size: 0.9rem;
      color: var(--gray);
    }

    /* Luxury Credit Card Form */
    .credit-card-form {
      display: none;
      margin-top: 30px;
      padding: 30px;
      background: rgba(255,255,255,0.95);
      border-radius: 15px;
      box-shadow: var(--shadow-md);
      animation: fadeIn 0.5s forwards;
      border: 1px solid rgba(0,0,0,0.05);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      transition: var(--transition-slow);
    }

    .credit-card-form.active {
      display: block;
    }

    .credit-card-form:hover {
      box-shadow: var(--shadow-lg);
      transform: translateY(-3px);
    }

    /* Credit Card Visual */
    .credit-card-visual {
      width: 100%;
      height: 200px;
      background: linear-gradient(135deg, #1A237E, #3d3cdb); /* Blue gradient */
      border-radius: 15px;
      padding: 25px;
      color: white; /* White text */
      margin-bottom: 25px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 15px 30px rgba(0, 0, 0, 0.3);
      transform-style: preserve-3d;
      transition: all 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      perspective: 1000px;
    }

    .credit-card-visual::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 70%);
      transform: rotate(30deg);
    }

    .card-chip {
      width: 60px;
      height: 40px;
      background: linear-gradient(135deg, #ffffff 0%, #c5c5c5 100%); /* White chip */
      border-radius: 8px;
      margin-bottom: 25px;
      position: relative;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    .card-chip::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.3) 0%, rgba(255, 255, 255, 0) 50%);
    }

    .card-number-display {
      font-family: 'Courier New', monospace;
      font-size: 1.5rem;
      letter-spacing: 3px;
      margin-bottom: 25px;
      word-spacing: 8px;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
      transition: var(--transition-normal);
    }

    .card-details {
      display: flex;
      justify-content: space-between;
      font-size: 1rem;
    }

    .card-holder-name, .card-expiry {
      font-family: 'Courier New', monospace;
      text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
    }

    .card-logo {
      position: absolute;
      right: 25px;
      bottom: 25px;
      font-size: 3rem;
      opacity: 0.9;
      filter: drop-shadow(0 2px 5px rgba(0, 0, 0, 0.3));
      transition: var(--transition-normal);
    }

    .credit-card-visual.front {
      transform: rotateY(0deg);
    }

    .credit-card-visual.back {
      transform: rotateY(180deg);
      display: none;
    }

    .card-cvv-display {
      position: absolute;
      top: 50%;
      left: 0;
      width: 100%;
      text-align: right;
      padding: 0 25px;
      font-family: 'Courier New', monospace;
      font-size: 1.2rem;
      text-shadow: 0 2px 5px rgba(0,0,0,0.3);
      letter-spacing: 2px;
    }

    .magnetic-strip {
      height: 50px;
      background: #000;
      margin-top: 25px;
      position: relative;
    }

    .magnetic-strip::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
    }

    .form-group {
      margin-bottom: 25px;
      position: relative;
    }

    .form-group label {
      display: block;
      margin-bottom: 10px;
      font-weight: 500;
      color: var(--dark);
      font-size: 0.95rem;
    }

    .form-control {
      width: 100%;
      padding: 15px 20px;
      border: 1px solid var(--light-gray);
      border-radius: 10px;
      font-size: 1rem;
      transition: var(--transition-normal);
      background: rgba(255,255,255,0.8);
      box-shadow: var(--shadow-sm);
    }

    .form-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.2);
      transform: translateY(-2px);
    }

    .form-row {
      display: flex;
      gap: 20px;
    }

    .form-row .form-group {
      flex: 1;
    }

    .flip-card-btn {
      background: none;
      border: none;
      color: var(--primary);
      cursor: pointer;
      font-size: 0.9rem;
      margin-top: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
      transition: var(--transition-normal);
    }

    .flip-card-btn:hover {
      color: var(--primary-dark);
    }

    .flip-card-btn i {
      transition: var(--transition-normal);
    }

    .flip-card-btn:hover i {
      transform: rotate(180deg);
    }

    /* 3D Card Flip Effect */
    .credit-card-container {
      perspective: 1000px;
    }

    .credit-card-inner {
      position: relative;
      width: 100%;
      height: 200px;
      transition: transform 0.8s;
      transform-style: preserve-3d;
    }

    .credit-card-container.flipped .credit-card-inner {
      transform: rotateY(180deg);
    }

    .credit-card-visual {
      position: absolute;
      width: 100%;
      height: 100%;
      backface-visibility: hidden;
    }

    .credit-card-visual.back {
      transform: rotateY(180deg);
    }

    /* Premium Security Badges */
    .security-badges {
      margin-top: 35px;
      padding-top: 25px;
      border-top: 1px dashed rgba(0,0,0,0.1);
    }

    .badges-row {
      display: flex;
      justify-content: center;
      gap: 20px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .badge-icon {
      font-size: 2rem;
      transition: var(--transition-normal);
      filter: drop-shadow(0 2px 5px rgba(0,0,0,0.1));
    }

    .badge-icon:hover {
      transform: translateY(-5px) scale(1.1);
      filter: drop-shadow(0 5px 10px rgba(0,0,0,0.2));
    }

    .security-text {
      text-align: center;
      font-size: 0.85rem;
      color: var(--gray);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    /* Luxury Empty Cart */
    .empty-cart {
      text-align: center;
      padding: 80px 0;
    }

    .empty-cart i {
      font-size: 5rem;
      color: var(--light-gray);
      margin-bottom: 30px;
      animation: bounce 2s infinite;
    }

    .empty-cart h2 {
      font-size: 2rem;
      margin-bottom: 20px;
      color: var(--dark);
      font-weight: 600;
    }

    .empty-cart p {
      font-size: 1.1rem;
      color: var(--gray);
      margin-bottom: 40px;
      max-width: 500px;
      margin-left: auto;
      margin-right: auto;
    }

    /* Premium Search Section */
    .search-section {
      margin-top: 60px;
      animation: fadeIn 0.8s forwards;
    }

    .search-control {
      width: 100%;
      padding: 18px 25px;
      border: 1px solid var(--light-gray);
      border-radius: 35px;
      font-size: 1.1rem;
      margin-bottom: 25px;
      transition: var(--transition-normal);
      box-shadow: var(--shadow-sm);
      background-color: rgba(255,255,255,0.9);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      border: 1px solid rgba(0,0,0,0.05);
    }

    .search-control:focus {
      outline: none;
      border-color: var(--primary);
      box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.2);
      transform: translateY(-3px);
    }

    .search-results {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 25px;
      margin-top: 25px;
    }

    .search-item {
      background: var(--lighter);
      border-radius: 12px;
      padding: 25px;
      box-shadow: var(--shadow-md);
      display: flex;
      align-items: center;
      transition: var(--transition-slow);
      position: relative;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,0.05);
    }

    .search-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: var(--gradient-primary);
      opacity: 0;
      transition: var(--transition-normal);
      z-index: 0;
    }

    .search-item:hover {
      transform: translateY(-8px);
      box-shadow: var(--shadow-xl);
    }

    .search-item:hover::before {
      opacity: 0.03;
    }

    .search-item-img {
      width: 100px;
      height: 100px;
      object-fit: cover;
      border-radius: 10px;
      margin-right: 20px;
      transition: var(--transition-normal);
      position: relative;
      z-index: 1;
      box-shadow: var(--shadow-sm);
      border: 1px solid rgba(0,0,0,0.05);
    }

    .search-item:hover .search-item-img {
      transform: scale(1.1) rotate(2deg);
    }

    .search-item-details {
      flex: 1;
      position: relative;
      z-index: 1;
    }

    .search-item-name {
      font-weight: 600;
      margin-bottom: 8px;
      font-size: 1.2rem;
      transition: var(--transition-normal);
      color: var(--dark);
    }

    .search-item:hover .search-item-name {
      color: var(--primary);
    }

    .search-item-price {
      color: var(--primary);
      font-weight: 600;
      margin-bottom: 15px;
      font-size: 1.2rem;
    }

    .add-to-cart-btn {
      background: var(--gradient-primary);
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 1rem;
      transition: var(--transition-normal);
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: var(--shadow-sm);
      position: relative;
      overflow: hidden;
      z-index: 1;
    }

    .add-to-cart-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: 0.6s;
      z-index: -1;
    }

    .add-to-cart-btn:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-md);
    }

    .add-to-cart-btn:hover::before {
      left: 100%;
    }

    .add-to-cart-btn:active {
      transform: translateY(0);
    }

    /* Premium Floating Action Button */
    .fab {
      position: fixed;
      bottom: 40px;
      right: 40px;
      width: 70px;
      height: 70px;
      background: var(--gradient-primary);
      color: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      box-shadow: 0 10px 30px rgba(108, 92, 231, 0.6);
      cursor: pointer;
      z-index: 999;
      transition: var(--transition-slow);
      animation: pulse 2s infinite;
      opacity: 0;
      transform: translateY(20px);
      border: none;
    }

    .fab.visible {
      opacity: 1;
      transform: translateY(0);
    }

    .fab:hover {
      transform: translateY(-5px) scale(1.1);
      box-shadow: 0 15px 40px rgba(108, 92, 231, 0.8);
      animation: none;
    }

    @keyframes pulse {
      0% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0.7); }
      70% { box-shadow: 0 0 0 20px rgba(108, 92, 231, 0); }
      100% { box-shadow: 0 0 0 0 rgba(108, 92, 231, 0); }
    }

    /* Premium Notification */
    .notification {
      position: fixed;
      top: 30px;
      right: 30px;
      background: var(--lighter);
      padding: 20px 30px;
      border-radius: 12px;
      box-shadow: var(--shadow-xl);
      display: flex;
      align-items: center;
      gap: 15px;
      z-index: 1001;
      transform: translateX(150%);
      transition: var(--transition-normal);
      overflow: hidden;
      border-left: 5px solid var(--success);
    }

    .notification.show {
      transform: translateX(0);
    }

    .notification.error {
      border-left-color: var(--danger);
    }

    .notification i {
      font-size: 1.5rem;
    }

    .notification.success i {
      color: var(--success);
    }

    .notification.error i {
      color: var(--danger);
    }

    .progress-bar {
      position: absolute;
      bottom: 0;
      left: 0;
      height: 4px;
      background: var(--success);
      width: 0;
      transition: width 3s linear;
    }

    .notification.error .progress-bar {
      background: var(--danger);
    }

    /* Payment Processing Animation */
    .payment-processing {
      display: none;
      text-align: center;
      padding: 30px;
      background: rgba(255,255,255,0.95);
      border-radius: 15px;
      margin-top: 30px;
      box-shadow: var(--shadow-md);
      border: 1px solid rgba(0,0,0,0.05);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
    }

    .payment-processing.active {
      display: block;
      animation: fadeIn 0.5s forwards;
    }

    .payment-spinner {
      width: 60px;
      height: 60px;
      border: 5px solid rgba(108, 92, 231, 0.1);
      border-top-color: var(--primary);
      border-radius: 50%;
      margin: 0 auto 25px;
      animation: spin 1s linear infinite;
    }

    .payment-processing h3 {
      font-size: 1.3rem;
      margin-bottom: 10px;
      color: var(--dark);
    }

    .payment-processing p {
      color: var(--gray);
      font-size: 0.95rem;
    }

    /* Confetti Effect */
    .confetti {
      position: fixed;
      width: 12px;
      height: 12px;
      background-color: var(--primary);
      opacity: 0;
      z-index: 1000;
      animation: confetti 5s ease-in-out;
      border-radius: 50%;
    }

    @keyframes confetti {
      0% { transform: translateY(0) rotate(0deg) scale(0); opacity: 0; }
      10% { opacity: 1; transform: translateY(0) rotate(0deg) scale(1); }
      100% { transform: translateY(1000px) rotate(720deg) scale(0); opacity: 0; }
    }

    /* Responsive Design */
    @media (max-width: 1200px) {
      .cart-layout {
        grid-template-columns: 1fr;
      }
      
      .payment-methods-section {
        margin-top: 40px;
      }
    }

    @media (max-width: 992px) {
      .nav-links {
        position: fixed;
        top: 90px;
        left: 0;
        width: 100%;
        background: rgba(26, 35, 126, 0.98);
        flex-direction: column;
        align-items: center;
        padding: 30px 0;
        gap: 20px;
        clip-path: circle(0px at 90% -10%);
        -webkit-clip-path: circle(0px at 90% -10%);
        transition: var(--transition-slow);
        pointer-events: none;
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
      }

      .nav-links.active {
        clip-path: circle(1500px at 90% -10%);
        -webkit-clip-path: circle(1500px at 90% -10%);
        pointer-events: all;
      }

      .menu-toggle {
        display: block;
      }

      .nav-link {
        padding: 12px 25px;
        font-size: 1.1rem;
      }

      .container {
        padding: 20px;
      }
    }

    @media (max-width: 768px) {
      .cart-item {
        grid-template-columns: 100px 1fr;
        grid-template-rows: auto auto;
        gap: 20px;
      }
      
      .cart-item-total {
        grid-column: 2;
        grid-row: 2;
        text-align: left;
        margin-top: 20px;
      }
      
      .remove-item {
        grid-column: 2;
        grid-row: 1;
        justify-self: end;
      }
      
      .cart-item-img {
        width: 100px;
        height: 100px;
      }

      .credit-card-visual {
        height: 180px;
        padding: 20px;
      }
      
      .card-number-display {
        font-size: 1.3rem;
      }

      .form-row {
        flex-direction: column;
        gap: 0;
      }

      .empty-cart i {
        font-size: 4rem;
      }

      .empty-cart h2 {
        font-size: 1.8rem;
      }

      .search-results {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 576px) {
      .header {
        padding: 0.8rem 0;
      }
      
      .logo h1 {
        font-size: 1.6rem;
      }
      
      .cart-items-section,
      .payment-methods-section {
        padding: 25px;
      }
      
      .section-title {
        font-size: 1.5rem;
      }
      
      .fab {
        width: 60px;
        height: 60px;
        font-size: 1.5rem;
        bottom: 25px;
        right: 25px;
      }
      
      .breadcrumbs {
        font-size: 0.9rem;
      }
    }

    /* Animations */
    @keyframes bounce {
      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
      40% { transform: translateY(-20px); }
      60% { transform: translateY(-10px); }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes slideInRight {
      from { transform: translateX(100px); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    @keyframes rotateIn {
      from { transform: rotate(-90deg); opacity: 0; }
      to { transform: rotate(0); opacity: 1; }
    }

    /* Loading Spinner */
    .spinner {
      display: inline-block;
      width: 24px;
      height: 24px;
      border: 3px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      border-top-color: white;
      animation: spin 1s ease-in-out infinite;
      margin-right: 10px;
    }
  </style>
</head>
<body>
  <!-- Premium Header Section -->
  <header class="header" id="header">
    <nav class="nav-container">
      <div class="logo">
        <h1 class="animated-logo">
          Nure <span class="stor">Store</span>
        </h1>
      </div>
      <div class="nav-links" id="nav-links">
        <a href="index.html" class="nav-link">Home</a>
        <a href="index.html#about" class="nav-link">About</a>
        <a href="index.html#products" class="nav-link">Products</a>
        <a href="#cart-section" class="nav-link">Cart</a>
        <a href="index.html#contact" class="nav-link">Contact</a>
      </div>
      <div class="nav-icons">
        <div class="cart-icon" id="open-cart">
          <a href="#" style="color: white; text-decoration: none;">
            <i class="fas fa-shopping-cart"></i>
            <span class="cart-count">0</span>
          </a>
        </div>
        <div class="menu-toggle" id="menu-toggle">
          <i class="fas fa-bars"></i>
        </div>
      </div>
    </nav>
  </header>

  <!-- Luxury Floating Action Button -->
  <button class="fab" id="fab">
    <i class="fas fa-arrow-up"></i>
  </button>

  <!-- Main Content -->
  <div class="container">
    <div class="breadcrumbs">
      <a href="index.html">Home</a> <span>Your Cart</span>
    </div>

    <div class="cart-layout">
      <!-- Left Column - Cart Items and Order Summary -->
      <div class="cart-items-section" id="cart-section">
        <h2 class="section-title">Your Shopping Cart</h2>
        <div id="cart-items"></div>
        <div class="order-summary" id="order-summary"></div>
      </div>

      <!-- Right Column - Payment Methods -->
      <div class="payment-methods-section">
        <h2 class="section-title">Payment Method</h2>
        
        <!-- Credit Card Option -->
        <div class="payment-method">
          <input type="radio" name="payment" id="credit-card" checked>
          <label for="credit-card">
            <div class="payment-icon">
              <i class="far fa-credit-card"></i>
            </div>
            <div class="payment-text">
              <div class="payment-name">Credit Card</div>
              <div class="payment-desc">Pay with Visa, Mastercard, or American Express</div>
            </div>
          </label>
        </div>
        
        <!-- Luxury Credit Card Form -->
        <div class="credit-card-form" id="credit-card-form">
          <div class="credit-card-container" id="credit-card-container">
            <div class="credit-card-inner">
              <!-- Front of Card -->
              <div class="credit-card-visual front" id="card-front">
                <div class="card-chip"></div>
                <div class="card-number-display" id="card-number-display">•••• •••• •••• ••••</div>
                <div class="card-details">
                  <div class="card-holder-name" id="card-holder-display">FULL NAME</div>
                  <div class="card-expiry" id="card-expiry-display">MM/YY</div>
                </div>
                <div class="card-logo" id="card-logo">
                  <i class="far fa-credit-card"></i>
                </div>
              </div>
              
              <!-- Back of Card -->
              <div class="credit-card-visual back" id="card-back">
                <div class="magnetic-strip"></div>
                <div class="cvv-field">
                  <div class="card-cvv-display" id="card-cvv-display">•••</div>
                </div>
                <div class="card-logo">
                  <i class="far fa-credit-card"></i>
                </div>
              </div>
            </div>
          </div>
          
          <button class="flip-card-btn" id="flip-card-btn">
            <i class="fas fa-sync-alt"></i> View Back of Card
          </button>
          
          <form id="payment-form">
            <div class="form-group">
              <label for="card-number">Card Number</label>
              <input type="text" id="card-number" class="form-control" placeholder="1234 5678 9012 3456" maxlength="19">
            </div>
            
            <div class="form-group">
              <label for="card-name">Cardholder Name</label>
              <input type="text" id="card-name" class="form-control" placeholder="John Doe">
            </div>
            
            <div class="form-row">
              <div class="form-group">
                <label for="card-expiry">Expiration Date</label>
                <input type="text" id="card-expiry" class="form-control" placeholder="MM/YY" maxlength="5">
              </div>
              
              <div class="form-group">
                <label for="card-cvv">CVV</label>
                <input type="text" id="card-cvv" class="form-control" placeholder="•••" maxlength="3">
              </div>
            </div>
            
            <div class="form-group">
              <label for="card-country">Country</label>
              <select id="card-country" class="form-control">
                <option value="">Select Country</option>
                <option value="US">United States</option>
                <option value="CA">Canada</option>
                <option value="UK">United Kingdom</option>
                <option value="AU">Australia</option>
                <option value="DE">Germany</option>
              </select>
            </div>
            
            <div class="form-group">
              <label for="card-zip">ZIP/Postal Code</label>
              <input type="text" id="card-zip" class="form-control" placeholder="12345">
            </div>
          </form>
        </div>
        
        <!-- PayPal Option -->
        <div class="payment-method">
          <input type="radio" name="payment" id="paypal">
          <label for="paypal">
            <div class="payment-icon">
              <i class="fab fa-paypal"></i>
            </div>
            <div class="payment-text">
              <div class="payment-name">PayPal</div>
              <div class="payment-desc">Pay with your PayPal account</div>
            </div>
          </label>
        </div>

        <!-- Premium Security Badges -->
        <div class="security-badges">
          <div class="badges-row">
            <i class="fas fa-lock badge-icon" style="color:var(--success);"></i>
            <i class="fab fa-cc-visa badge-icon" style="color:#1a237e;"></i>
            <i class="fab fa-cc-mastercard badge-icon" style="color:#f79e1b;"></i>
            <i class="fab fa-cc-amex badge-icon" style="color:#016fd0;"></i>
            <i class="fab fa-cc-discover badge-icon" style="color:#ff6000;"></i>
          </div>
          <p class="security-text">
            <i class="fas fa-shield-alt"></i> Secure 256-bit SSL encryption
          </p>
        </div>
        
        <!-- Payment Processing Indicator -->
        <div class="payment-processing" id="payment-processing">
          <div class="payment-spinner"></div>
          <h3>Processing Payment</h3>
          <p>Please wait while we verify your payment details</p>
        </div>
      </div>
    </div>

    <!-- Premium Search Section -->
    <section class="search-section" id="search-section">
      <h2 class="section-title">Looking for More?</h2>
      <input type="text" id="search-input" class="search-control" placeholder="Search by name or category...">
      <div class="search-results" id="search-results"></div>
    </section>
  </div>

  <!-- Notification Container -->
  <div id="notification-container"></div>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Initialize header scroll effect
      initHeaderScroll()

      // Initialize mobile menu
      initMobileMenu()

      // Initialize floating action button
      initFAB()

      // Update cart count on page load
      updateCartCount()

      // Render detailed cart view
      renderDetailedCart()

      // Initialize payment method selection
      initPaymentMethods()

      // Initialize credit card form
      initCreditCardForm()

      // Initialize search functionality
      initSearch()

      // Initialize animations
      initAnimations()
    })

    // Header scroll effect
    function initHeaderScroll() {
      const header = document.getElementById("header")
      const fab = document.getElementById("fab")

      window.addEventListener("scroll", () => {
        if (window.scrollY > 50) {
          header.classList.add("scrolled")
        } else {
          header.classList.remove("scrolled")
        }

        // Show/hide FAB
        if (window.scrollY > 300) {
          fab.classList.add("visible")
        } else {
          fab.classList.remove("visible")
        }
      })
    }

    // Mobile menu functionality
    function initMobileMenu() {
      const menuToggle = document.getElementById("menu-toggle")
      const navLinks = document.getElementById("nav-links")

      if (menuToggle) {
        menuToggle.addEventListener("click", function () {
          navLinks.classList.toggle("active")
          // Toggle icon between bars and times
          const icon = this.querySelector("i")
          if (icon.classList.contains("fa-bars")) {
            icon.classList.remove("fa-bars")
            icon.classList.add("fa-times")
          } else {
            icon.classList.remove("fa-times")
            icon.classList.add("fa-bars")
          }
        })

        // Close menu when clicking on a link
        document.querySelectorAll(".nav-link").forEach((link) => {
          link.addEventListener("click", () => {
            navLinks.classList.remove("active")
            // Reset icon
            const icon = menuToggle.querySelector("i")
            icon.classList.remove("fa-times")
            icon.classList.add("fa-bars")
          })
        })

        // Close menu when clicking outside
        document.addEventListener("click", (event) => {
          if (!event.target.closest(".nav-links") && !event.target.closest(".menu-toggle")) {
            navLinks.classList.remove("active")
            // Reset icon
            const icon = menuToggle.querySelector("i")
            if (icon) {
              icon.classList.remove("fa-times")
              icon.classList.add("fa-bars")
            }
          }
        })
      }
    }

    // Floating Action Button
    function initFAB() {
      const fab = document.getElementById("fab")

      // Scroll to top functionality
      fab.addEventListener("click", () => {
        window.scrollTo({
          top: 0,
          behavior: "smooth"
        })
      })
    }

    // Initialize animations
    function initAnimations() {
      // Animate cart items with delay
      const cartItems = document.querySelectorAll(".cart-item")
      cartItems.forEach((item, index) => {
        item.style.setProperty('--order', index)
      })

      // Intersection Observer for scroll animations
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('animate__animated', 'animate__fadeInUp')
            observer.unobserve(entry.target)
          }
        })
      }, {
        threshold: 0.1
      })

      document.querySelectorAll('.cart-item, .search-item').forEach(item => {
        observer.observe(item)
      })
    }

    // Get cart from localStorage
    function getCart() {
      return JSON.parse(localStorage.getItem("cart")) || []
    }

    // Update cart count with animation
    function updateCartCount() {
      const cart = getCart()
      const totalItems = cart.reduce((total, item) => total + item.quantity, 0)

      document.querySelectorAll(".cart-count").forEach((el) => {
        el.textContent = totalItems

        // Add bounce animation when items change
        if (parseInt(el.textContent) > 0) {
          el.style.transform = "scale(1.5)"
          setTimeout(() => {
            el.style.transform = "scale(1)"
          }, 300)
        }
      })
    }

    // Update cart item quantity with animation
    function updateCartItemQuantity(id, change) {
      const cart = getCart()
      const item = cart.find((item) => item.id === id)

      if (!item) return

      // Update quantity
      item.quantity += change

      // Remove item if quantity is 0 or less
      if (item.quantity <= 0) {
        removeCartItem(id)
        return
      }

      // Update cart in localStorage
      localStorage.setItem("cart", JSON.stringify(cart))

      // Animate quantity change
      const cartItem = document.querySelector(`.cart-item[data-id="${id}"]`)
      if (cartItem) {
        const quantityValue = cartItem.querySelector(".quantity-value")
        quantityValue.style.transform = "scale(1.5)"
        quantityValue.style.color = change > 0 ? "var(--success)" : "var(--danger)"
        
        setTimeout(() => {
          quantityValue.textContent = item.quantity
          quantityValue.style.transform = "scale(1)"
          quantityValue.style.color = ""
        }, 300)
      }

      // Update cart count and reload cart items
      updateCartCount()
      renderDetailedCart()
    }

    // Remove cart item with animation
    function removeCartItem(id) {
      let cart = getCart()

      // Find item to get its name for notification
      const item = cart.find((item) => item.id === id)
      if (!item) return

      // Animate removal
      const cartItem = document.querySelector(`.cart-item[data-id="${id}"]`)
      if (cartItem) {
        cartItem.style.transform = "translateX(-100px)"
        cartItem.style.opacity = "0"
        
        setTimeout(() => {
          // Remove item from cart
          cart = cart.filter((item) => item.id !== id)

          // Update cart in localStorage
          localStorage.setItem("cart", JSON.stringify(cart))

          // Show notification
          showNotification(`${item.name} removed from cart`)

          // Update cart count and reload cart items
          updateCartCount()
          renderDetailedCart()
        }, 300)
      }
    }

    // Show notification with animation
    function showNotification(message, type = "success") {
      const container = document.getElementById("notification-container")
      const notification = document.createElement("div")
      notification.className = `notification ${type}`
      notification.innerHTML = `
        <i class="fas fa-${type === "success" ? "check-circle" : "exclamation-circle"}"></i>
        <span>${message}</span>
        <div class="progress-bar"></div>
      `

      container.appendChild(notification)

      // Show notification
      setTimeout(() => {
        notification.classList.add("show")
        // Animate progress bar
        notification.querySelector(".progress-bar").style.width = "100%"
      }, 10)

      // Hide and remove notification
      setTimeout(() => {
        notification.classList.remove("show")
        setTimeout(() => notification.remove(), 500)
      }, 3000)
    }

    // Initialize payment methods
    function initPaymentMethods() {
      const paymentMethods = document.querySelectorAll(".payment-method input")
      
      paymentMethods.forEach((input) => {
        input.addEventListener("change", function() {
          // Show/hide credit card form based on selection
          if (this.id === "credit-card") {
            document.getElementById("credit-card-form").classList.add("active")
          } else {
            document.getElementById("credit-card-form").classList.remove("active")
          }
        })
      })

      // Activate credit card form by default
      document.getElementById("credit-card-form").classList.add("active")
    }

    // Initialize credit card form
    function initCreditCardForm() {
      const cardNumberInput = document.getElementById("card-number")
      const cardNameInput = document.getElementById("card-name")
      const cardExpiryInput = document.getElementById("card-expiry")
      const cardCvvInput = document.getElementById("card-cvv")
      const flipCardBtn = document.getElementById("flip-card-btn")
      const cardContainer = document.getElementById("credit-card-container")

      // Format card number input
      cardNumberInput.addEventListener("input", function(e) {
        let value = this.value.replace(/\s+/g, '').replace(/[^0-9]/gi, '')
        let matches = value.match(/\d{4,16}/g)
        let match = matches && matches[0] || ''
        let parts = []
        
        for (let i=0, len=match.length; i<len; i+=4) {
          parts.push(match.substring(i, i+4))
        }
        
        if (parts.length) {
          this.value = parts.join(' ')
          document.getElementById("card-number-display").textContent = parts.join(' ')
          
          // Detect card type and update logo
          detectCardType(value)
        } else {
          this.value = value
          document.getElementById("card-number-display").textContent = '•••• •••• •••• ••••'
          document.getElementById("card-logo").innerHTML = '<i class="far fa-credit-card"></i>'
        }
      })

      // Update card name display
      cardNameInput.addEventListener("input", function() {
        document.getElementById("card-holder-display").textContent = 
          this.value.toUpperCase() || 'FULL NAME'
      })

      // Format expiry date input
      cardExpiryInput.addEventListener("input", function() {
        let value = this.value.replace(/\D/g, '')
        
        if (value.length > 2) {
          this.value = value.slice(0, 2) + '/' + value.slice(2, 4)
          document.getElementById("card-expiry-display").textContent = 
            this.value || 'MM/YY'
        } else {
          this.value = value
          document.getElementById("card-expiry-display").textContent = 'MM/YY'
        }
      })

      // Update CVV display and flip card when focused
      cardCvvInput.addEventListener("input", function() {
        document.getElementById("card-cvv-display").textContent = 
          this.value.replace(/\d/g, '•') || '•••'
      })

      cardCvvInput.addEventListener("focus", function() {
        cardContainer.classList.add("flipped")
        flipCardBtn.innerHTML = '<i class="fas fa-sync-alt"></i> View Front of Card'
      })

      cardCvvInput.addEventListener("blur", function() {
        cardContainer.classList.remove("flipped")
        flipCardBtn.innerHTML = '<i class="fas fa-sync-alt"></i> View Back of Card'
      })

      // Flip card button
      flipCardBtn.addEventListener("click", function(e) {
        e.preventDefault()
        cardContainer.classList.toggle("flipped")
        
        if (cardContainer.classList.contains("flipped")) {
          this.innerHTML = '<i class="fas fa-sync-alt"></i> View Front of Card'
        } else {
          this.innerHTML = '<i class="fas fa-sync-alt"></i> View Back of Card'
        }
      })
    }

    // Detect card type based on number
    function detectCardType(number) {
      const cardLogo = document.getElementById("card-logo")
      
      // Visa
      if (/^4/.test(number)) {
        cardLogo.innerHTML = '<i class="fab fa-cc-visa"></i>'
        cardLogo.style.color = '#1a237e'
      } 
      // Mastercard
      else if (/^5[1-5]/.test(number)) {
        cardLogo.innerHTML = '<i class="fab fa-cc-mastercard"></i>'
        cardLogo.style.color = '#f79e1b'
      } 
      // Amex
      else if (/^3[47]/.test(number)) {
        cardLogo.innerHTML = '<i class="fab fa-cc-amex"></i>'
        cardLogo.style.color = '#016fd0'
      } 
      // Discover
      else if (/^6(?:011|5)/.test(number)) {
        cardLogo.innerHTML = '<i class="fab fa-cc-discover"></i>'
        cardLogo.style.color = '#ff6000'
      } 
      // Default
      else {
        cardLogo.innerHTML = '<i class="far fa-credit-card"></i>'
        cardLogo.style.color = '#6c5ce7'
      }
    }

    // Create confetti effect
    function createConfetti() {
      const colors = ['#6c5ce7', '#fd79a8', '#00cec9', '#fdcb6e', '#0984e3', '#a29bfe']
      
      for (let i = 0; i < 150; i++) {
        const confetti = document.createElement('div')
        confetti.className = 'confetti'
        confetti.style.left = Math.random() * 100 + 'vw'
        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)]
        confetti.style.width = Math.random() * 12 + 5 + 'px'
        confetti.style.height = Math.random() * 12 + 5 + 'px'
        confetti.style.animationDuration = Math.random() * 3 + 2 + 's'
        confetti.style.animationDelay = Math.random() * 2 + 's'
        document.body.appendChild(confetti)
        
        // Remove confetti after animation
        setTimeout(() => {
          confetti.remove()
        }, 7000)
      }
    }

    // Get all products from the store
    function getAllProducts() {
      return [
        {
          id: "pc1",
          name: "Streaming PC",
          price: 1799,
          category: "gaming-pcs",
          image: "c606082d661ada5db9ef8dcc89e1a7ee.jpg",
        },
        {
          id: "pc2",
          name: "Ultra Gaming PC",
          price: 2999,
          category: "gaming-pcs",
          image: "8b6a24b4387ffe6bd69cdf37ccdb3533.jpg",
        },
        {
          id: "pc3",
          name: "Flagship Gaming PC",
          price: 3499,
          category: "gaming-pcs",
          image: "431b755dc57f4c8309b6fe2ea67b42da.jpg",
        },
        {
          id: "pc4",
          name: "Compact Pro Gaming PC",
          price: 1899,
          category: "gaming-pcs",
          image: "1d9e347684c6be3f86b7058fecb6b47e.jpg",
        },
        {
          id: "l1",
          name: "Gaming Laptop",
          price: 1499,
          category: "laptops",
          image: "513521feca03e8e02d3fb2c86bc9187e.jpg",
        },
        {
          id: "l2",
          name: "MacBook Air M2",
          price: 1199,
          category: "laptops",
          image: "d324e00fd65f11c4f6cde0b01748af87.jpg",
        },
        {
          id: "l3",
          name: "Microsoft Surface Laptop 5",
          price: 999,
          category: "laptops",
          image: "b82681d2b64039932eb0d1961ce625f4.jpg",
        },
        {
          id: "l4",
          name: "HP Spectre x360",
          price: 1599,
          category: "laptops",
          image: "fd408a746d0d16b2083301ca9525dd3a.jpg",
        },
        { id: "p1", name: "Pixel 8 Pro", price: 499, category: "phones", image: "85b7056de8a347a60345b57d070cdd18.jpg" },
        {
          id: "p2",
          name: "Samsung Galaxy S23 Ultra",
          price: 1199,
          category: "phones",
          image: "d37482ad81e5953fe2e776b2386e0300.jpg",
        },
        {
          id: "p3",
          name: "iPhone 15 ProMax",
          price: 1299,
          category: "phones",
          image: "68a354b18c088b28775cb9c2b8aea0cb.jpg",
        },
        {
          id: "p4",
          name: "Compact Pro Phone",
          price: 899,
          category: "phones",
          image: "aef062b328823a8a131764b34fd9d9f7.jpg",
        },
        {
          id: "t1",
          name: "Microsoft Surface Go",
          price: 1299,
          category: "tablets",
          image: "602c757cfc37eb34b59cfbe7ef4ed2ad.jpg",
        },
        { id: "t2", name: "iPad Pro", price: 499, category: "tablets", image: "a63fe32507f82c47ab1f66bc2533380f.jpg" },
        {
          id: "t3",
          name: "iPad Pro with Magic Keyboard (Black)",
          price: 399,
          category: "tablets",
          image: "2fcdacf76e65ad2889a42a8790e2e1d8.jpg",
        },
        {
          id: "t4",
          name: "iPad Pro with Magic Keyboard (White)",
          price: 599,
          category: "tablets",
          image: "1608eeae63db519ff7443d5a8f29abf8.jpg",
        },
      ]
    }

    // Initialize search functionality
    function initSearch() {
      const searchInput = document.getElementById("search-input")
      const searchResults = document.getElementById("search-results")

      if (searchInput) {
        searchInput.addEventListener("input", () => {
          performSearch(searchInput.value, searchResults)
        })
      }
    }

    // Perform search with debounce
    let searchTimeout
    function performSearch(searchTerm, resultsContainer) {
      clearTimeout(searchTimeout)
      
      searchTimeout = setTimeout(() => {
        searchTerm = searchTerm.trim().toLowerCase()

        if (!searchTerm) {
          resultsContainer.innerHTML = ""
          return
        }

        // Get all products from the store
        const products = getAllProducts()

        // Filter products by search term
        const results = products.filter(
          (product) => product.name.toLowerCase().includes(searchTerm) || product.category.toLowerCase().includes(searchTerm),
        )

        // Show search results
        if (resultsContainer) {
          // Clear previous results
          resultsContainer.innerHTML = ""

          if (results.length > 0) {
            // Add results
            results.forEach((product) => {
              const resultItem = document.createElement("div")
              resultItem.className = "search-item animate__animated animate__fadeIn"
              resultItem.style.animationDelay = `${Math.random() * 0.3}s`
              resultItem.innerHTML = `
                <img src="${product.image}" alt="${product.name}" class="search-item-img">
                <div class="search-item-details">
                  <div class="search-item-name">${product.name}</div>
                  <div class="search-item-price">$${product.price.toFixed(2)}</div>
                  <button class="add-to-cart-btn" data-id="${product.id}" data-name="${product.name}" data-price="${product.price}" data-image="${product.image}">
                    <i class="fas fa-cart-plus"></i> Add to Cart
                  </button>
                </div>
              `

              resultsContainer.appendChild(resultItem)
            })

            // Add event listeners to add-to-cart buttons
            document.querySelectorAll(".add-to-cart-btn").forEach((button) => {
              button.addEventListener("click", function () {
                const id = this.getAttribute("data-id")
                const name = this.getAttribute("data-name")
                const price = Number.parseFloat(this.getAttribute("data-price"))
                const image = this.getAttribute("data-image")

                addToCart(id, name, price, image)

                // Animate button
                this.innerHTML = '<i class="fas fa-check"></i> Added!'
                this.style.background = "var(--success)"
                
                setTimeout(() => {
                  this.innerHTML = '<i class="fas fa-cart-plus"></i> Add to Cart'
                  this.style.background = "var(--gradient-primary)"
                }, 1500)

                // Show notification
                showNotification(`${name} added to cart`)
              })
            })
          } else {
            // Show no results message
            resultsContainer.innerHTML = `
              <div style="text-align: center; padding: 2rem; color: var(--gray);" class="animate__animated animate__fadeIn">
                <i class="fas fa-search" style="font-size: 2rem; margin-bottom: 1rem; color: #ccc;"></i>
                <p>No products found matching "${searchTerm}"</p>
              </div>
            `
          }
        }
      }, 300) // 300ms debounce
    }

    // Add item to cart with animation
    function addToCart(id, name, price, image) {
      const cart = getCart()

      // Check if item already exists in cart
      const existingItem = cart.find((item) => item.id === id)

      if (existingItem) {
        existingItem.quantity += 1
      } else {
        cart.push({
          id: id,
          name: name,
          price: price,
          quantity: 1,
          image: image,
        })
      }

      // Save cart to localStorage
      localStorage.setItem("cart", JSON.stringify(cart))

      // Update cart count
      updateCartCount()

      // Update cart displays
      renderDetailedCart()
    }

    // Render detailed cart on cart page with animations
    function renderDetailedCart() {
      const cartItemsContainer = document.getElementById("cart-items")
      const orderSummaryContainer = document.getElementById("order-summary")

      if (!cartItemsContainer || !orderSummaryContainer) return

      const cart = getCart()

      if (cart.length === 0) {
        cartItemsContainer.innerHTML = `
          <div class="empty-cart animate__animated animate__fadeIn">
            <i class="fas fa-shopping-cart"></i>
            <h2>Your cart is empty</h2>
            <p>Looks like you haven't added any items to your cart yet.</p>
            <a href="index.html" class="checkout-btn" style="max-width: 250px; margin: 20px auto;">Continue Shopping</a>
          </div>
        `
        orderSummaryContainer.innerHTML = ""
        return
      }

      // Render cart items with animations
      cartItemsContainer.innerHTML = ""

      cart.forEach((item, index) => {
        const cartItem = document.createElement("div")
        cartItem.className = "cart-item animate__animated"
        cartItem.style.setProperty('--order', index)
        cartItem.dataset.id = item.id

        cartItem.innerHTML = `
          <img src="${item.image}" alt="${item.name}" class="cart-item-img">
          <div class="cart-item-details">
            <div class="cart-item-name">${item.name}</div>
            <div class="cart-item-price">$${item.price.toFixed(2)}</div>
            <div class="cart-item-quantity">
              <button class="quantity-btn" data-id="${item.id}" data-action="decrease">-</button>
              <span class="quantity-value">${item.quantity}</span>
              <button class="quantity-btn" data-id="${item.id}" data-action="increase">+</button>
            </div>
          </div>
          <button class="remove-item" data-id="${item.id}">
            <i class="fas fa-trash"></i>
          </button>
          <div class="cart-item-total">$${(item.price * item.quantity).toFixed(2)}</div>
        `

        cartItemsContainer.appendChild(cartItem)
      })

      // Add event listeners to buttons
      document.querySelectorAll(".cart-item .quantity-btn").forEach((button) => {
        button.addEventListener("click", function () {
          const id = this.getAttribute("data-id")
          const action = this.getAttribute("data-action")

          if (action === "decrease") {
            updateCartItemQuantity(id, -1)
          } else if (action === "increase") {
            updateCartItemQuantity(id, 1)
          }
        })
      })

      document.querySelectorAll(".cart-item .remove-item").forEach((button) => {
        button.addEventListener("click", function () {
          const id = this.getAttribute("data-id")
          removeCartItem(id)
        })
      })

      // Calculate order summary
      const subtotal = cart.reduce((sum, item) => sum + item.price * item.quantity, 0)
      const shipping = subtotal > 1000 ? 0 : 49.99 // Free shipping over $1000
      const tax = subtotal * 0.08 // 8% tax
      const total = subtotal + tax + shipping

      // Display order summary
      orderSummaryContainer.innerHTML = `
        <h3 class="section-title">Order Summary</h3>
        <div class="summary-row">
          <span>Subtotal (${cart.reduce((count, item) => count + item.quantity, 0)} items):</span>
          <span>$${subtotal.toFixed(2)}</span>
        </div>
        <div class="summary-row">
          <span>Shipping:</span>
          <span>${shipping === 0 ? "Free" : "$" + shipping.toFixed(2)}</span>
        </div>
        <div class="summary-row">
          <span>Tax (8%):</span>
          <span>$${tax.toFixed(2)}</span>
        </div>
        <div class="summary-row total">
          <span>Total:</span>
          <span>$${total.toFixed(2)}</span>
        </div>
        <button class="checkout-btn" id="complete-checkout">Complete Purchase</button>
      `

      // Add event listener to checkout button
      document.getElementById("complete-checkout")?.addEventListener("click", completeCheckout)
    }

    // Complete checkout with animation
    function completeCheckout() {
      const cart = getCart()

      if (cart.length === 0) {
        showNotification("Your cart is empty", "error")
        return
      }

      const checkoutBtn = document.getElementById("complete-checkout")
      checkoutBtn.innerHTML = '<span class="spinner"></span> Processing...'
      checkoutBtn.disabled = true

      // Show payment processing animation
      document.getElementById("payment-processing").classList.add("active")

      // Validate credit card form if credit card is selected
      if (document.getElementById("credit-card").checked) {
        const cardNumber = document.getElementById("card-number").value.replace(/\s/g, '')
        const cardName = document.getElementById("card-name").value
        const cardExpiry = document.getElementById("card-expiry").value
        const cardCvv = document.getElementById("card-cvv").value
        
        if (!cardNumber || !cardName || !cardExpiry || !cardCvv) {
          showNotification("Please complete all credit card fields", "error")
          checkoutBtn.innerHTML = "Complete Purchase"
          checkoutBtn.disabled = false
          document.getElementById("payment-processing").classList.remove("active")
          return
        }
        
        if (!isValidCardNumber(cardNumber)) {
          showNotification("Please enter a valid credit card number", "error")
          checkoutBtn.innerHTML = "Complete Purchase"
          checkoutBtn.disabled = false
          document.getElementById("payment-processing").classList.remove("active")
          return
        }
      }

      // Simulate payment processing
      setTimeout(() => {
        // Create confetti effect
        
        // Clear cart
        localStorage.removeItem("cart")

        // Update UI
        updateCartCount()
        renderDetailedCart()

        // Hide processing animation
        document.getElementById("payment-processing").classList.remove("active")

        // Show success notification
        showNotification("Thank you for your purchase! Your order is confirmed.", "success")

        // Redirect to index page after short delay
        setTimeout(() => {
          window.location.href = "index.html"
        }, 3000)
      }, 3000)
    }

    // Validate credit card number using Luhn algorithm
    function isValidCardNumber(cardNumber) {
      // Remove any non-digit characters
      cardNumber = cardNumber.replace(/\D/g, '')
      
      // Check if the card number is empty or not all digits
      if (!cardNumber || !/^\d+$/.test(cardNumber)) {
        return false
      }
      
      // Luhn algorithm
      let sum = 0
      let shouldDouble = false
      
      // Loop through digits from right to left
      for (let i = cardNumber.length - 1; i >= 0; i--) {
        let digit = parseInt(cardNumber.charAt(i))
        
        if (shouldDouble) {
          digit *= 2
          if (digit > 9) {
            digit -= 9
          }
        }
        
        sum += digit
        shouldDouble = !shouldDouble
      }
      
      return (sum % 10) === 0
    }
  </script>
</body>
</html>